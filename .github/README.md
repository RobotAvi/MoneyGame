# üöÄ GitHub Actions Workflows

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ GitHub Actions workflows –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–µ–ª–∏–∑–æ–≤ Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Financial Success.

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ Workflows

### üöÄ Stable Build & Release (`stable-build.yml`)
**–û—Å–Ω–æ–≤–Ω–æ–π workflow –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**

**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- Push –≤ –≤–µ—Ç–∫—É `main` ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–ª–∏–∑
- Pull Request –≤ –≤–µ—Ç–∫—É `main` ‚Üí —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `workflow_dispatch`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–µ–ª–∏–∑–æ–≤)
2. üìù –ì–µ–Ω–µ—Ä–∞—Ü–∏—è release notes
3. üß™ –ó–∞–ø—É—Å–∫ unit —Ç–µ—Å—Ç–æ–≤
4. üî® –°–±–æ—Ä–∫–∞ debug APK
5. üì± –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ APK –¥–ª—è –¥–∏—Å—Ç—Ä–∏–±—É—Ü–∏–∏
6. üì∏ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏ –ø–ª–∞–Ω—à–µ—Ç–∞
7. üè∑Ô∏è –°–æ–∑–¥–∞–Ω–∏–µ GitHub Release —Å APK –∏ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º–∏
8. üíæ –ö–æ–º–º–∏—Ç –≤—Å–µ—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ Gradle –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Å–±–æ—Ä–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö APK (–æ—Å—Ç–∞–≤–ª—è–µ—Ç 5 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö)
- –£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞: —Ä–µ–ª–∏–∑ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ push –≤ main

### üß™ Quick Test (`quick-test.yml`)
**–ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**

**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- Pull Request –≤ –≤–µ—Ç–∫–∏ `main` –∏–ª–∏ `develop`
- –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `workflow_dispatch`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. üß™ –ó–∞–ø—É—Å–∫ unit —Ç–µ—Å—Ç–æ–≤
2. üî® –°–±–æ—Ä–∫–∞ debug APK
3. üì§ –ó–∞–≥—Ä—É–∑–∫–∞ APK –∫–∞–∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç (—Ö—Ä–∞–Ω–∏—Ç—Å—è 7 –¥–Ω–µ–π)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ–ª–∏–∑–∞
- –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ PR
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `GRADLE_OPTS`: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Gradle –¥–ª—è CI/CD
- `JAVA_VERSION`: 21 (Temurin)
- `ANDROID_API_LEVEL`: 30

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- Gradle –∫—ç—à –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏
- Android build cache
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

## üì± –°–∫—Ä–∏–Ω—à–æ—Ç—ã

Workflow –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—è Maestro:
- **–¢–µ–ª–µ—Ñ–æ–Ω**: Nexus 6 profile
- **–ü–ª–∞–Ω—à–µ—Ç**: Nexus 10 profile
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**: `screenshots-stable.yaml` (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç) –∏–ª–∏ `screenshots.yaml`

## üè∑Ô∏è –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏:
- **–§–æ—Ä–º–∞—Ç**: `x.y` (major.minor)
- **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç**: minor –≤–µ—Ä—Å–∏—è (x.y ‚Üí x.(y+1))
- **Version Code**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ +1

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤

```
releases/
‚îú‚îÄ‚îÄ debug/
‚îÇ   ‚îú‚îÄ‚îÄ FinancialSuccess-v1.32-2024-01-15_14-30-debug.apk
‚îÇ   ‚îî‚îÄ‚îÄ latest-debug.apk (—Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞)

screenshots/
‚îú‚îÄ‚îÄ phone/
‚îÇ   ‚îú‚îÄ‚îÄ main_menu.png
‚îÇ   ‚îî‚îÄ‚îÄ game_screen.png
‚îî‚îÄ‚îÄ tablet/
    ‚îú‚îÄ‚îÄ main_menu.png
    ‚îî‚îÄ‚îÄ game_screen.png
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–°–±–æ—Ä–∫–∞ –ø–∞–¥–∞–µ—Ç –Ω–∞ —Ç–µ—Å—Ç–∞—Ö**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ unit —Ç–µ—Å—Ç—ã –ª–æ–∫–∞–ª—å–Ω–æ: `./gradlew test`
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

2. **–°–∫—Ä–∏–Ω—à–æ—Ç—ã –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Maestro –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `maestro/screenshots-stable.yaml`
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —ç–º—É–ª—è—Ç–æ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

3. **APK –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `app/build.gradle` –Ω–∞ –æ—à–∏–±–∫–∏
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã

### –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞:
- –í—Å–µ –ª–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ GitHub Actions UI
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- APK –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –≤ —Ä–µ–ª–∏–∑–∞—Ö

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç–∞—Ä—ã—Ö workflows

–°—Ç–∞—Ä—ã–µ workflows –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ:
- `build-with-screenshots.yml`
- `build-with-screenshots-alternative.yml`
- `build-with-screenshots-fixed.yml`
- `build-with-screenshots-optimized.yml`

–ù–æ–≤—ã–π `stable-build.yml` –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏–∑ —Å—Ç–∞—Ä—ã—Ö workflows.

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ GitHub Actions
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Maestro
4. –°–æ–∑–¥–∞–π—Ç–µ issue —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã