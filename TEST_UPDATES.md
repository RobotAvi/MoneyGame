# Обновления тестов под новый дизайн

## Обзор изменений

Все тесты были обновлены под новый современный дизайн приложения с зеленой цветовой схемой и плоским дизайном.

## UI тесты (Espresso)

### Файл: `app/src/androidTest/CharacterCreationActivityTest.kt`

#### Удаленные тесты:
- Тесты для спиннеров (образование, семейное положение, толерантность к риску и др.)
- Тесты для дополнительных полей ввода (опыт работы, количество детей, доход супруга и др.)
- Тесты для навыков (SkillsRecyclerView)
- Тесты для валидации процента сбережений

#### Обновленные тесты:
- `testActivityLaunchesSuccessfully()` - обновлен под новую структуру интерфейса
- `testDefaultValuesAreSet()` - упрощен, убраны лишние поля
- `testCompleteCharacterCreation()` - упрощен процесс создания персонажа
- Все тесты кнопок обновлены с `btnStartGame` на `btn_start_game`

#### Новые тесты:
- `testNewDesignElements()` - проверка новых элементов дизайна
- `testCardSelectionVisualFeedback()` - проверка визуальной обратной связи при выборе карточек
- `testModernUIElements()` - проверка современных элементов UI

## Unit тесты

### Файл: `app/src/test/GameActivityTest.kt`

#### Обновленные тесты:
- `testUpdateUICorrectlyUpdatesCash()` - обновлен ID с `tvCash` на `tv_cash`
- `testPlayerIconPositionMatchesMonthProgress()` - закомментирован, так как игровое поле изменилось

#### Новые тесты:
- `testNewDesignElementsDisplay()` - проверка новых элементов дизайна
- `testDiceCardDisplay()` - проверка карточки кубика
- `testActionButtonsDisplay()` - проверка кнопок действий
- `testGameStatusDisplay()` - проверка статуса игры
- `testRecyclerViewAssetsDisplay()` - проверка RecyclerView активов

## Maestro тесты

### Обновленные файлы:
- `screenshots.yaml` - основные тесты
- `screenshots_detailed.yaml` - подробные тесты
- `screenshots-stable.yaml` - стабильные тесты
- `screenshots-tablet.yaml` - тесты для планшетов
- `screenshots-minimal.yaml` - минимальные тесты

### Новый файл:
- `screenshots_new_design.yaml` - специальные тесты для нового дизайна

#### Основные изменения в Maestro тестах:

1. **Удалены старые элементы:**
   - Карточка события
   - Журнал
   - Правила
   - Мечты (как отдельный экран)

2. **Добавлены новые элементы:**
   - Финансы (новая кнопка)
   - Активы (новая кнопка)
   - Рынок (новая кнопка)
   - Брось кубик! (новый элемент)
   - Верхняя панель с показателями
   - Нижняя панель с кнопками

3. **Обновлены скриншоты:**
   - Все скриншоты переименованы для отражения нового дизайна
   - Добавлены новые скриншоты для тестирования новых элементов

## Новые элементы для тестирования

### Верхняя панель:
- `tv_cash` - наличные деньги
- `tv_salary` - зарплата
- `tv_passive_income` - пассивный доход

### Центральная область:
- `card_dice` - карточка кубика
- `iv_dice` - изображение кубика
- `tv_dice_value` - значение кубика

### Нижняя панель:
- `btn_financial_statement` - кнопка финансов
- `btn_assets` - кнопка активов
- `btn_market` - кнопка рынка

### Экран создания персонажа:
- `btn_start_game` - кнопка начала игры
- `recyclerViewProfessions` - список профессий
- `recyclerViewDreams` - список мечт

## Рекомендации по запуску тестов

1. **UI тесты:**
   ```bash
   ./gradlew connectedAndroidTest
   ```

2. **Unit тесты:**
   ```bash
   ./gradlew test
   ```

3. **Maestro тесты:**
   ```bash
   maestro test maestro/screenshots_new_design.yaml
   ```

## Примечания

- Некоторые тесты могут потребовать дополнительной настройки после полной реализации нового дизайна
- Тесты для игрового поля (`testPlayerIconPositionMatchesMonthProgress`) закомментированы, так как структура игрового поля изменилась
- Все ID элементов обновлены в соответствии с новым дизайном
- Добавлены тесты для проверки визуальной обратной связи при выборе карточек